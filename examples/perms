perms(l) := [l] if len(l) = 1 else {insert(l, a, i): l[:i]+[a]+l[i:]} {first: car(l), rest: cdr(l)} \
{subperms: perms(rest)} sum([[insert(p, first, i) for i in enum(l)] for p in subperms])

#TEST
perms([1,2,3])