l := [1,3,5,2,7,4,6,9,8,0]

merge(l1,l2) := cases(l2=[]: l1, l1=[]: l2, with a1=l1@0, a2=l2@0: \
[a1] + merge(l1[1:], l2) if a1<a2 else [a2] + merge(l1, l2[1:])
merge_sort(l) := l if len(l) < 2 else with halflen=len(l)//2: \
with ll=merge_sort(l@range(halflen)), rl=merge_sort(l[halflen:]): merge(ll, rl))

merge_sort(l) #(0,1,2,3,4,5,6,7,8,9)